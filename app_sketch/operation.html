<!-- <!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro Observation Planner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f9;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #2980b9;
        }
        #result {
            margin-top: 20px;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .note {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Astro Observation Planner</h1>
        <form id="observationForm">
            <div class="form-group">
                <label for="observer">Observer (lat, lon en grados):</label>
                <input type="text" id="observer" placeholder="Ejemplo: 19.4, -99.2" required>
                <span class="note">Separados por coma (latitud, longitud).</span>
            </div>
            
            <div class="form-group">
                <label for="date_i">Fecha inicial (YYYY-MM-DD HH:MM:SS):</label>
                <input type="text" id="date_i" placeholder="Ejemplo: 2024-01-01 20:00:00" required>
            </div>
            
            <div class="form-group">
                <label for="date_f">Fecha final (YYYY-MM-DD HH:MM:SS):</label>
                <input type="text" id="date_f" placeholder="Ejemplo: 2024-01-02 06:00:00" required>
            </div>
            
            <div class="form-group">
                <label for="timescale">Escala de tiempo (s, m, h) y valor:</label>
                <input type="text" id="timescale" placeholder="Ejemplo: h,1" required>
                <span class="note">Formato: escala,valor (ej: 'h,1' para horas).</span>
            </div>
            
            <div class="form-group">
                <label for="limit">Límite de altitud (grados):</label>
                <input type="number" id="limit" placeholder="Ejemplo: 33" required>
            </div>
            
            <div class="form-group">
                <label for="m_min">Magnitud mínima (m_min):</label>
                <input type="number" id="m_min" step="0.1" placeholder="Ejemplo: 10.5" required>
            </div>
            
            <div class="form-group">
                <label for="K">Constante K (segundos):</label>
                <input type="number" id="K" placeholder="Ejemplo: 30" required>
            </div>
            
            <div class="form-group">
                <label for="m_ref">Magnitud de referencia (m_ref):</label>
                <input type="number" id="m_ref" step="0.1" placeholder="Ejemplo: 10.0" required>
            </div>
            
            <div class="form-group">
                <label for="t_expo">Tiempo máximo de exposición (segundos):</label>
                <input type="number" id="t_expo" placeholder="Ejemplo: 300" required>
            </div>
            
            <div class="form-group">
                <label for="many">Número de objetos (many):</label>
                <input type="number" id="many" placeholder="Ejemplo: 50" required>
            </div>
            
            <div class="form-group">
                <label for="alerts">Datos de alertas (JSON):</label>
                <textarea id="alerts" rows="4" placeholder='Ejemplo: [{"RA": 120.5, "DEC": 18.3, "Mag": 9.5}, ...]' required></textarea>
                <span class="note">Formato JSON con RA (grados), DEC (grados) y Mag.</span>
            </div>
            
            <button type="button" onclick="calculate()">Calcular Observaciones</button>
        </form>
        
        <div id="result">
            <h2>Resultados:</h2>
            <div id="dataframeResult"></div>
        </div>
    </div>

    <script>
        function calculate() {
            // Simulación de procesamiento (en un caso real, esto se enviaría a un backend en Python)
            const observer = document.getElementById('observer').value.split(',').map(Number);
            const date_i = document.getElementById('date_i').value;
            const date_f = document.getElementById('date_f').value;
            const timescale = document.getElementById('timescale').value.split(',');
            const limit = parseFloat(document.getElementById('limit').value);
            const m_min = parseFloat(document.getElementById('m_min').value);
            const K = parseFloat(document.getElementById('K').value);
            const m_ref = parseFloat(document.getElementById('m_ref').value);
            const t_expo = parseFloat(document.getElementById('t_expo').value);
            const many = parseInt(document.getElementById('many').value);
            const alerts = JSON.parse(document.getElementById('alerts').value);

            // Simulación del DataFrame de salida (en realidad, esto se generaría con Python)
            const simulatedData = [
                { Label: 1, RA: 120.5, DEC: 18.3, Mag: 9.5, 'Time expo': 45, Time: '2024-01-01 20:00:00' },
                { Label: 2, RA: 130.2, DEC: 22.1, Mag: 8.7, 'Time expo': 60, Time: '2024-01-01 21:00:00' },
            ];

            // Mostrar resultados en una tabla HTML
            let html = '<table><thead><tr>';
            if (simulatedData.length > 0) {
                // Crear encabezados
                Object.keys(simulatedData[0]).forEach(key => {
                    html += `<th>${key}</th>`;
                });
                html += '</tr></thead><tbody>';

                // Llenar datos
                simulatedData.forEach(row => {
                    html += '<tr>';
                    Object.values(row).forEach(val => {
                        html += `<td>${val}</td>`;
                    });
                    html += '</tr>';
                });
                html += '</tbody></table>';
            } else {
                html = '<p>No hay observaciones disponibles con los parámetros dados.</p>';
            }

            document.getElementById('dataframeResult').innerHTML = html;
        }
    </script>
</body>
</html> -->